### 题目：不用加减乘除做加法

5 的二进制是 101 ，17 的是 10001。将计算过程分三步：

* 各位相加但是不进位，则结果为 10100
* 记下进位。在这个例子中只有最后一次进位为二进制 10 
* 将上述结果相加即为 10110 对应十进制即为 22 



接下来我们试着把二进制的加法用位运算来替代。第一步不考虑进位对每一位相加。0 加 0 、1 加 1 的结果都 0。 0 加 1 、1 加 0 的结果都是 1 。

对异或而言， 0 和 0、1 和 1 异或的结果是 0， 而 0 和 1 、1 和 0 的异或结果是 1 。

接着考虑第二步进位，对加 0 、0 加 1 、1 加 0 而言， 都不会产生进位，只有 1 加 1 时，会向前产生一个进位。此时我们可以想象成是两个数先做位与运算，然后再向左移动一位。只有两个数都是 1 的时候，位与得到的结果是 1，其余都是 0。第三步把前两个步骤的结果相加。第三步相加的过程依然是重复前面两步， 直到不产生进位为止。



``` java
public class Test47 {
    public static int add(int x, int y) {
        int sum;
        int carry;
        do {
            sum = x ^ y;
            // x&y的某一位是1说明，它是它的前一位的进位，所以向左移动一位
            carry = (x & y) << 1;
            x = sum;
            y = carry;
        } while (y != 0);
        return x;
    }
    public static void main(String[] args) {
        System.out.println(add(1, 2) + ", " + (1 + 2));
        System.out.println(add(13, 34)+ ", " + (13 + 34));
        System.out.println(add(19, 85)+ ", " + (19 + 95));
        System.out.println(add(865, 245)+ ", " + (865 + 245));
    }
}
```



